<div class="relative min-h-screen flex items-center justify-center bg-green-50 px-[4vw] py-[6vh] pt-[25vw] md:pt-[10vw] overflow-hidden">
  
  <img
    src="assets/images/home.webp"
    class="absolute inset-0 w-full h-full object-cover z-0"
  />

  <div class="absolute inset-0 bg-green-400/40 z-0"></div>

  <div class="relative z-10 w-full max-w-[90vw] md:max-w-[70vw] bg-white border border-green-200 rounded-[2vw] md:rounded-[1.4vw] p-[5vw] md:p-[3vw] shadow-2xl">
    <h1 class="text-[5vw] md:text-[2.6vw] font-semibold tracking-tight mb-[1.5vw] md:mb-[0.8vw] text-green-800">Validación de entrada</h1>
    <p class="text-gray-600 text-[3vw] md:text-[1.05vw] mb-[3vw] md:mb-[2vw]">Escanea tu QR y aterrizarás aquí. Validamos automáticamente el código.</p>

    <div *ngIf="estado === 'loading'" class="text-[2.5vw] md:text-[1.1vw] text-gray-700">Comprobando...</div>
    <div *ngIf="estado === 'missing'" class="text-[2.2vw] md:text-[1.05vw] text-yellow-600">No se encontró el parámetro <span class="font-semibold">qr</span> en la URL (?qr=...).</div>
    <div *ngIf="estado === 'error'" class="text-[2.2vw] md:text-[1.05vw] text-red-600">{{ mensaje }}</div>

    <div *ngIf="estado === 'success'" class="space-y-[2vw] md:space-y-[1.2vw]">
      <div class="text-[3vw] md:text-[1.1vw] text-green-600 font-medium">✔ {{ mensaje }}</div>

      <div *ngIf="ticket" class="bg-green-50 border border-green-200 rounded-[1.5vw] md:rounded-[1vw] p-[4vw] md:p-[1.6vw] grid grid-cols-1 md:grid-cols-2 gap-[3vw] md:gap-[1vw] text-[2vw] md:text-[1vw]">
        <div>
          <div class="text-gray-500 text-[2vw] md:text-[0.85vw]">Ticket ID</div>
          <div class="font-semibold break-words text-gray-900 text-[2.4vw] md:text-[1.1vw]">{{ ticket.id }}</div>
        </div>
        <div>
          <div class="text-gray-500 text-[2vw] md:text-[0.85vw]">Evento</div>
          <div class="font-semibold text-gray-900 text-[2.4vw] md:text-[1.1vw]">{{ ticket.evento || '—' }}</div>
        </div>
        <div>
          <div class="text-gray-500 text-[2vw] md:text-[0.85vw]">Fecha compra</div>
          <div class="font-semibold text-gray-900 text-[2.4vw] md:text-[1.1vw]">{{ ticket.fechaCompra | date:'short':'+0100':'es-ES' }}</div>
        </div>
        <div>
          <div class="text-gray-500 text-[2vw] md:text-[0.85vw]">Estado</div>
          <div class="font-semibold text-gray-900 text-[2.4vw] md:text-[1.1vw]">{{ ticket.estado || 'Activo' }}</div>
        </div>
        <div>
          <div class="text-gray-500 text-[2vw] md:text-[0.85vw]">Precio</div>
          <div class="font-semibold text-gray-900 text-[2.4vw] md:text-[1.1vw]">{{ ticket.precio !== null && ticket.precio !== undefined ? (ticket.precio | currency:'EUR':'symbol':'1.2-2':'es') : '—' }}</div>
        </div>
      </div>
    </div>

    <div class="mt-[3vw] md:mt-[2.4vw] text-[2.5vw] md:text-[0.95vw] text-gray-500">
      Si quieres probarlo manualmente: abre <code class="bg-gray-100 px-[1vw] md:px-[0.6vw] py-[0.4vw] md:py-[0.2vw] rounded text-gray-800 text-[2.5vw] md:text-[0.9vw]">/validar-qr?qr=&lt;codigoQR&gt;</code> sustituyendo <span class="text-gray-700">&lt;codigoQR&gt;</span> por el valor real del QR.
    </div>
  </div>
  
</div>
