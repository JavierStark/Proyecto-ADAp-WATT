<section class="w-full min-h-screen pt-[7.5vw] overflow-hidden font-sans bg-green-50 relative">
  <!-- Fondo -->
  <img
    src="assets/images/fondoCudeca.png"
    alt="Fondo"
    class="absolute inset-0 w-full h-full object-cover -z-10"
  />
  <div class="absolute inset-0 bg-green-400 opacity-30 -z-5"></div>

  <div class="max-w-[90vw] mx-auto relative z-10">
    <!-- Loading -->
    <div *ngIf="isLoading" class="flex flex-col items-center justify-center h-[50vh]">
      <div class="animate-spin rounded-full h-[5vw] w-[5vw] border-b-[0.4vw] border-green-700 mb-[2vw]"></div>
      <p class="text-green-800 text-[1.5vw] font-bold">Cargando detalles...</p>
    </div>

    <!-- Contenido principal -->
    <div *ngIf="!isLoading && evento" class="bg-white rounded-[2vw] shadow-2xl overflow-hidden p-[1vw]">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-[3vw] items-start">
        <!-- IZQUIERDA: Imagen + t√≠tulo + inscripci√≥n -->
        <div class="md:col-span-1 flex flex-col items-start">
          <!-- Imagen -->
          <div class="w-full h-[18vw] rounded-[1.5vw] overflow-hidden shadow-md">
            <img [src]="evento.imagen" alt="Imagen del evento" class="w-full h-full object-cover">
          </div>
          <!-- T√≠tulo -->
          <h1 class="text-[2vw] font-bold text-green-600 mt-[1vw]">
            {{ evento.titulo }}
          </h1>
          <!-- Informaci√≥n de inscripci√≥n -->
          <div class="mt-[2vw] w-full">
            <div class="space-y-[1.5vw] mb-[1.5vw] text-[1.1vw]">
	      <div class="flex ubicacion items center">
		<span class="text-gray-600">üó∫Ô∏èüìå:</span>
                <span class="font-bold text-green-600">{{ evento.ubicacion }} </span>
		</div>
              <div class="flex justify-between items-center">
                <span class="text-gray-600">Aforo total:</span>
                <span class="font-bold text-gray-900">{{ evento.capacidad }} pers.</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-gray-600">Inscritos:</span>
                <span class="font-bold text-green-700">{{ evento.inscritos }} pers.</span>
              </div>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-[1vw] mb-[0.5vw] overflow-hidden">
              <div class="bg-green-600 h-full rounded-full transition-all duration-500" [style.width.%]="(evento.inscritos / evento.capacidad) * 100"></div>
            </div>
            <p class="text-[0.9vw] text-gray-500">
              {{ evento.capacidad - evento.inscritos }} plazas disponibles
            </p>
          </div>
        </div>

        <!-- DERECHA: Descripci√≥n + causa solidaria + botones -->
        <div class="md:col-span-2 flex flex-col">
          <!-- Descripci√≥n -->
          <h3 class="text-[2vw] font-bold text-green-600 mb-[1.5vw] border-b border-gray-200 pb-[1vw]">Descripcion</h3>
          <p class="text-gray-700 text-[1.2vw] leading-relaxed whitespace-pre-line mb-[3vw]">
            {{ evento.descripcion }}
          </p>

          <!-- Causa solidaria -->
          <div *ngIf="evento.objetoRecaudacion" class="bg-green-50 p-[2vw] rounded-[1.5vw] border border-green-200 flex items-start gap-[1.5vw] mb-[3vw]">
            <div class="bg-green-200 p-[0.8vw] rounded-full text-[1.5vw]">üéØ</div>
            <div>
              <h3 class="font-bold text-green-800 text-[1.3vw] mb-[0.5vw]">Causa Solidaria</h3>
              <p class="text-green-700 text-[1.1vw]">
                Este evento recauda fondos para: <strong>{{ evento.objetoRecaudacion }}</strong>
              </p>
            </div>
          </div>

          <!-- Botones de acci√≥n -->
          <div class="flex flex-col sm:flex-row gap-[1vw]">
            <button (click)="inscribirse()"
              [disabled]="evento.inscritos >= evento.capacidad"
              [class.opacity-50]="evento.inscritos >= evento.capacidad"
              [class.cursor-not-allowed]="evento.inscritos >= evento.capacidad"
              class="flex-1 bg-green-600 text-white font-bold text-[1.2vw] py-[1vw] rounded-[1vw] hover:bg-green-700 transition shadow-md justify-center items-center gap-[0.5vw] flex">
              <span *ngIf="evento.inscritos < evento.capacidad">Comprar entradas</span>
              <span *ngIf="evento.inscritos >= evento.capacidad">‚õî Aforo Completo</span>
            </button>
            <button (click)="goToDonation()"
              class="flex-1 bg-green-600 text-white font-bold text-[1.2vw] py-[1vw] rounded-[1vw] hover:bg-green-700 transition shadow-md justify-center items-center flex">
              Donar
            </button>
          </div>

          <p class="text-center text-[0.9vw] text-gray-400 mt-[1.5vw]">
            Gracias por colaborar con la Fundaci√≥n Cudeca.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

