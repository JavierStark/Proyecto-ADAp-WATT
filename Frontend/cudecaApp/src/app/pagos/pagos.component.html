<section class="relative w-full min-h-screen overflow-hidden font-sans flex flex-col">

  <img
    src="assets/images/fondoCudeca.png"
    alt="Fondo decorativo"
    class="absolute inset-0 w-full h-full object-cover z-0"
  />

  <div class="absolute inset-0 bg-green-400/40 z-0"></div>

  <div class="relative z-10 flex-grow flex items-center justify-center px-4 pt-10 pb-10
              md:pt-[6vw] md:pb-[4vw] md:px-[4vw]">

    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-[90vw] flex flex-col 
                p-6 gap-6 animate-fade-in-up
                md:flex-row md:w-[55vw] md:max-w-[48vw] md:p-[1.5vw] md:gap-[1.5vw]">

      <!-- Imagen -->
      <div class="w-full flex justify-center md:w-[22vw] md:flex-shrink-0">
        <img 
          src="assets/images/abuela.png" 
          alt="Evento"
          class="w-[80%] md:w-full h-auto object-cover shadow-md rounded-xl"
          style="aspect-ratio:1;"
        >
      </div>

      <!-- Formulario -->
      <div class="w-full flex flex-col items-center justify-center md:w-[22vw]">

        <h1 class="font-bold text-green-700 mb-4 text-[6vw] md:text-[1.6vw]">
          Completa el formulario:
        </h1>

        <!-- Información del evento y compra -->
        <div *ngIf="eventoCompra" class="w-full mb-4 text-left text-[3.5vw] md:text-[0.9vw] text-gray-700">
          <p class="font-semibold mb-2">{{ eventoCompra.titulo }}</p>
          <p>Entradas: {{ eventoCompra.numeroEntradasGeneral + eventoCompra.numeroEntradasVip }}</p>
          <p class="font-bold text-green-700">Total: €{{ eventoCompra.totalPrecio }}</p>
        </div>

        <h3 class="font-semibold text-green-600 mb-4 text-[4vw] md:text-[1.2vw]">
          Método de pago
        </h3>

        <!-- Botones de métodos de pago -->
        <div class="flex flex-col gap-3 mb-6 w-full">
          <button *ngFor="let method of paymentMethods"
                  (click)="selectPaymentMethod(method.id)"
                  [ngClass]="{
                    'bg-green-100 border-green-600 font-bold': selectedPaymentMethod === method.id,
                    'border-green-300 text-green-600 hover:border-green-500 hover:bg-green-50': selectedPaymentMethod !== method.id
                  }"
                  class="border-2 rounded-full transition-all duration-200 hover:shadow-sm
                         py-2 text-[4.5vw] md:text-[0.9vw]">
            {{ method.name }}
          </button>
        </div>

        <!-- Botón realizar compra -->
        <button
          (click)="processPayment()"
          [disabled]="!selectedPaymentMethod"
          class="w-full text-white rounded-full shadow-lg transition-transform duration-300 transform hover:scale-[1.02] font-medium py-3 text-[5vw] md:text-[1.1vw] disabled:opacity-50 disabled:cursor-not-allowed pay-button"
          [ngClass]="selectedPaymentMethod ? 'bg-green-500 hover:bg-green-800' : 'bg-gray-300'">
          Realizar compra
        </button>

      </div>
    </div>
  </div>
</section>
