<section class="relative w-full min-h-screen overflow-hidden font-sans flex flex-col">

  <img
    src="assets/images/fondoCudeca.png"
    alt="Fondo decorativo"
    class="absolute inset-0 w-full h-full object-cover z-0"
  />

  <div class="absolute inset-0 bg-green-400/40 z-0"></div>

  <div class="relative z-10 flex-grow flex items-center justify-center pt-[6vw] pb-[4vw] px-[4vw]">

    <div class="bg-white shadow-2xl w-full max-w-[90vw] flex flex-col md:flex-row p-[4vw] md:p-[2vw] gap-[3.2vw] md:gap-[2vw] rounded-[1.4vw]">

      <!-- Evento -->
      <div class="w-full sm:flex-shrink-0 sm:basis-[30vw]">
        <!-- Informaci√≥n del evento y compra (debajo de la imagen) -->
        <div *ngIf="eventoCompra" class="left-event-info w-full text-left text-[3.5vw] md:text-[0.9vw] text-gray-700">
          <img 
            src="assets/images/abuela.png" 
            alt="Evento"
            class="w-full h-auto object-cover shadow-md rounded-[1.2vw]"
            style="aspect-ratio:16/9; width:100%; height:auto;"
          >
          <p class="font-semibold mb-[0.6vw] mt-[0.8vw] text-[3.8vw] md:text-[1.3vw]">{{ eventoCompra.titulo }}</p>
          <p class="mb-[0.6vw] text-[3.2vw] md:text-[0.9vw]">Entradas: {{ eventoCompra.numeroEntradasGeneral + eventoCompra.numeroEntradasVip }}</p>
          <p class="font-bold text-green-700 mb-[0.8vw] text-[3.5vw] md:text-[1.1vw]">Total: ‚Ç¨{{ eventoCompra.totalPrecio }}</p>
          <p class="mb-[0.4vw] text-[3.2vw] md:text-[0.9vw]"><span class="location-icon">üìç</span> {{ eventoCompra.ubicacion }}</p>
          <p class="text-[3.2vw] md:text-[0.9vw]"><span class="calendar-icon">üìÖ</span> {{ eventoCompra.fecha }}</p>
        </div>
      </div>

      <!-- Formulario -->
      <div class="w-full flex flex-col items-center justify-center sm:basis-[40vw]">

        <h1 class="font-bold text-green-700 mb-[1.2vw] text-[5.2vw] md:text-[1.8vw]">
          Completa el formulario:
        </h1>

        <h3 class="font-semibold text-green-600 mb-[1.2vw] text-[4vw] md:text-[1.3vw]">
          M√©todo de pago
        </h3>

        <!-- Botones de m√©todos de pago -->
        <div class="flex flex-col gap-[0.5vw] mb-[1vw] w-full">
          <button *ngFor="let method of paymentMethods"
                  (click)="selectPaymentMethod(method.id)"
                  [ngClass]="{
                    'bg-green-100 border-green-600 font-bold': selectedPaymentMethod === method.id,
                    'border-green-300 text-green-600 hover:border-green-500 hover:bg-green-50': selectedPaymentMethod !== method.id
                  }"
                  class="border-[0.1vw] rounded-full transition-all duration-200 hover:shadow-sm py-[2vw] px-[2vw] md:py-[0.5vw] md:px-[1vw] text-[3vw] md:text-[1vw]">
            {{ method.name }}
          </button>
        </div>

        <!-- Bot√≥n realizar compra -->
        <button
          (click)="processPayment()"
          [disabled]="!selectedPaymentMethod"
          class="w-full text-white rounded-full shadow-lg transition-transform duration-300 transform font-medium py-[4.5vw] px-[4.5vw] md:py-[1vw] md:px-[1vw] text-[4.5vw] md:text-[1.2vw] disabled:opacity-50 disabled:cursor-not-allowed pay-button"
          [ngClass]="selectedPaymentMethod ? 'bg-green-500 hover:bg-green-800' : 'bg-gray-300'">
          Realizar compra
        </button>

      </div>
    </div>
  </div>
</section>
